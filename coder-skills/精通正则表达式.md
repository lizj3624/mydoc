# 精通正则表达式
> 正则表达式(Regular Expression)是强大、便捷、高效处理文本处理工具。

完整的正则表达式由两种字符构成，元字符和普通文本字符

## 行的起始和结束

脱字节`^`: 代表一行的开始
美元符`$`：代表一行的结束
```shell
egrep ^cat *.txt

egrep ^$ *.txt
```

## 字符组
```shell
# 0到9，a到z，A到Z的字符, -是连字符，是元字符
grep -E [0-9a-zA-Z] *.txt
```

## 排他型字符组
```shell
# 排查包含1-6的行
egrep [^1-6] *.txt

# 脱字节^在字符组内部才表示排他型

egrep 'q[^u]' worl.list
```

## 点号匹配任意字符

## 竖杠`|`匹配任意子表达式
   `|`是一个非常简洁的元字符，是或的意思

```shell
# 匹配行中包含Bob或者Robert的行
egrep 'Bob|Robert' *.txt

# 匹配行中包含grey或者gray的行
egrep 'gr[ea]y' *.txt

egrep 'gr(a|e)y' *.txt  # ()是必须的，表示字符的范围, 多选结构

# 字符组只能选择一个字符，多选结构可以选择多个字符

egrep '^(From|Subject|Date):*' *.txt
```

## 区分大小写
```shell
egrep -i 'abc' *.txt
```

## 单词分界符
```shell
egrep '\<cat\>' *.txt
```

## 可选项元素
```shell
# ?前面的u可有可无
egrep 'colou?r' *.txt
```

## 量词: 加号`+`, 星号`*`
`+`表示之前紧邻的元素出现一次或者多次

`*`表示之前紧邻的元素出现任意多次，或者不出现

## 区间`{min, max}`
> 问号?对应区间{0, 1}
```shell
# 匹配出现1-5次的大小写字母
egrep '[a-zA-Z]{1, 5}' *.txt
```

## 转义 `\( \)`

## 间记法

1. `\t`: 制表符

2. `\n`: 换行符

3. `\r`: 回车符

4. `\s`: 任何空白字符(空格，制表符，进纸符)

5. `\S`: 除`\s`外任何字符

6. `\w`: [a-zA-Z0-9](在`\w+`中很有用，匹配一个单词)

7. `\W`: 除`\w`外的任何字符

8. `\d`: [0-9]数字

9. `\D`: 除[0-9]以外的任何字符


## 贪婪和非贪婪 
属于贪婪模式的量词，也叫做匹配优先量词，包括：
```shell
{m,n}、{m,}、?、*、+
```
在一些使用NFA引擎的语言中，在匹配优先量词后加上`?`，即变成属于非贪婪模式的量词，也叫做忽略优先量词，包括：
```shell
{m,n}?、{m,}?、??、*?、+?
```
从正则语法的角度来讲，被匹配优先量词修饰的子表达式使用的就是贪婪模式，如`(Expression)+`；
被忽略优先量词修饰的子表达式使用的就是非贪婪模式，如`(Expression)+?`。
